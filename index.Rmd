[![Travis-CI Build Status](https://travis-ci.org/JohnCoene/sigmajs.svg?branch=master)](https://travis-ci.org/JohnCoene/sigmajs) [![AppVeyor Build Status](https://ci.appveyor.com/api/projects/status/github/JohnCoene/sigmajs?branch=master&svg=true)](https://ci.appveyor.com/project/JohnCoene/sigmajs) [![lifecycle](https://img.shields.io/badge/lifecycle-stable-brightgreen.svg)](https://www.tidyverse.org/lifecycle/#stable) [![bitbucket](https://img.shields.io/bitbucket/pipelines/JohnCoene/sigmajs.svg)](https://bitbucket.org/JohnCoene/sigmajs) [![CRAN status](https://www.r-pkg.org/badges/version/sigmajs)](https://cran.r-project.org/package=sigmajs)

<img src="man/figures/logo.png" align="left" style="max-height:250px;margin:5%;"/>

```{r, eval=TRUE, echo = FALSE}
library(sigmajs)
nodes <- sg_make_nodes(20)
edges <- sg_make_edges(nodes, 30)

# reset size to 1
nodes$size <- 1

# change initial colors
nodes$color <- colorRampPalette(c("#922b29", "#da7d7b"))(nrow(nodes))
 
# add transition
n <- nrow(nodes)
L <- 10

# in circle
nodes$to_x <- 0
nodes$to_y <- 0
for(i in 1:nrow(nodes)){
	nodes$to_x[i] <- L * cos(pi * 2 * i / n - pi / 2)
	nodes$to_y[i] <- L * sin(pi * 2 * i / n - pi / 2)
}

nodes$to_size <- runif(n, 2, 6) # size

# colors
COLORS <- c("#1C5C70", "#B1E2A3")
nodes$to_color <- colorRampPalette(COLORS)(n)
 
# plot
sigmajs(width = "75%", height = 250) %>%
	sg_nodes(nodes, id, size, color, to_x, to_y, to_size, to_color) %>%
	sg_edges(edges, id, source, target) %>% 
	sg_animate(mapping = list(x = "to_x", y = "to_y", size = "to_size", color = "to_color")) %>%
	sg_settings(animationsTime = 2000)
```

[sigmajs](http://sigmajs.org/) for R.

<a class="btn btn-primary" href="articles/get_started.html">
  <i class="fa fa-rocket"></i>
  Get Started
</a>
<a class="btn btn-primary" href="articles/shiny.html" target="_blank">
  <i class="fa fa-graduation-cap"></i>
  Shiny guide
</a>
<a class="btn btn-success" href="http://shiny.john-coene.com/sigmajs/" target="_blank">
  <i class="fa fa-desktop"></i>
  Shiny demo
</a>

With the rise in popularity of networks, it is important for R users to have access to a package that allows visualising the aforementioned networks in a highly configurable, interactive and dynamic manner.
`sigmajs` is a [Shiny](https://shiny.rstudio.com/)-centric in order to best leverage the [original library](http://sigmajs.org/)'s great many methods.

All graphs must be initialised with the `sigmajs()` function, all the functions of the package start with `sg_` and its proxies end in `_p`, functions are pipe-friendly (`%>%`).

## Install

```{r, eval = FALSE}
# install.packages("devtools")
devtools::install_github("JohnCoene/sigmajs") # github
devtools::install_bitbucket("sigmajs", "JohnCoene") # bitbucket
```

## Examples

Most functions have corresponding `demo()`.

```{r, eval=TRUE}
library(sigmajs)

# generate data
nodes <- sg_make_nodes(25) # 20 nodes
edges <- sg_make_edges(nodes, 50) # 50 edges

# visualise
sigmajs() %>%
	sg_nodes(nodes, id, label, size, color) %>%
	sg_edges(edges, id, source, target)
```

Most functions have corresponding demos, execute the command in the `run` column to see sigmajs in action. You can also see some of these examples [here](http://shiny.john-coene.com/sigmajs/).

```{r, eval = TRUE, echo = FALSE}
demos <- readLines("./demo/00Index")
demos <- strsplit(demos, "\t+|([[:space:]]){3}")
demos <- demos[lapply(demos, length) > 1]
df <- data.frame()
for(i in 1:length(demos)){
	row <- data.frame(
		name = paste0("`", trimws(demos[[i]][1]), "`"), 
		run = paste0("`demo(", trimws(demos[[i]][1]), ", package='sigmajs')`")
	)
	df <- rbind.data.frame(df, row)
}

knitr::kable(df, caption = "sigmajs demos", format = "html")
```
